<div class="v-center justify-content-between">
    <h1 class="f-6 font-weight-bold m-0">
        SMS Delivery Status
    </h1>
    <span class="f-3 font-weight-bold c-blue c-pointer" (click)="clear()">
        Clear
    </span>
</div>
<mat-dialog-content>
    <div class="mt-3 delivery">
        <div class="f-3 op-64 count-detail">
            Sent {{sentSms.length}}. Delivered {{deliveredSms.length}}. Failed {{failedSms.length}}.
        </div>
        <div class="mt-3 sms-detail">
            <app-slide-tab [tabs]="tabs" [selected]="selectedTab" (onChange)="changeTab($event)">
            </app-slide-tab>
        </div>
        <div class="mt-3 sms-wrapper">
            <ng-container *ngIf="selectedTab.label == 'All'">
                <div class="mb-2 all-sms" *ngFor="let sms of sentSms">
                    <div class="v-center justify-content-between">
                        <div>
                            <div class="f-3 font-weight-bold user-name">{{sms.name}}</div>
                            <div class="f-1 op-64 mt-1 user-phone">{{sms.cellPhone}}</div>
                        </div>
                        <div class="mt-1">
                            <div class="v-center justify-content-center ml-3 f-1 font-weight-bold text-uppercase deliver-status" *ngIf="sms.status == 'delivered'; else failStatus">{{sms.status}}</div>
                            <ng-template #failStatus>
                                <div class="v-center justify-content-center ml-4 f-1 font-weight-bold text-uppercase fail-status" *ngIf="sms.status == 'failed'">{{sms.status}}</div>
                            </ng-template>
                            <div class="f-1 op-64 mt-1 create-time">{{sms.created_at}}</div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="selectedTab.label == 'Delivered'">
                <div class="mb-2 deliver-sms" *ngFor="let sms of deliveredSms">
                    <div class="v-center justify-content-between">
                        <div>
                            <div class="f-3 font-weight-bold user-name">{{sms.name}}</div>
                            <div class="f-1 op-64 mt-1 user-phone">{{sms.cellPhone}}</div>
                        </div>
                        <div>
                            <div class="v-center justify-content-center ml-3 f-1 font-weight-bold text-uppercase deliver-status">{{sms.status}}</div>
                            <div class="f-1 op-64 mt-1 create-time">{{sms.created_at}}</div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="selectedTab.label == 'Failed'">
                <div class="mb-2 fail-sms" *ngFor="let sms of failedSms">
                    <div class="v-center justify-content-between">
                        <div>
                            <div class="f-3 font-weight-bold user-name">{{sms.name}}</div>
                            <div class="f-1 op-64 mt-1 user-phone">{{sms.cellPhone}}</div>
                        </div>
                        <div class="mt-1">
                            <div class="v-center justify-content-center ml-4 f-1 font-weight-bold text-uppercase fail-status">{{sms.status}}</div>
                            <div class="f-1 op-64 mt-1 create-time">{{sms.created_at}}</div>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</mat-dialog-content>