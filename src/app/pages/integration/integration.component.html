<div style="max-width: 680px;">
  <h6 class="font-weight-bold">Email apps</h6>
  <div class="integration-account">
    <div class="icon">
      <img src="../../../assets/img/google_email.png">
    </div>
    <div class="content">
      <div class="title f-3 font-weight-bold mb-1">Google mail</div>
      <div class="desc f-2 op-75">
        Our Platform can deliver the emails through your gmail. Email Deliverity will be upgraded.
      </div>
    </div>
    <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectMail('gmail')">Connect account</button>
    <div class="accounts">
      <ng-container *ngIf="(user.connected_email_type=='gmail' || user.connected_email_type=='gsuit') && user.primary_connected">
        <div class="f-2 font-weight-bold mt-3 mb-2">Authorized account</div>
        <div class="f-1">
          <span class="font-weight-bold mr-2">{{user.connected_email}}</span>
          connected
        </div>
      </ng-container>
    </div>
  </div>
  <div class="integration-account">
    <div class="icon">
      <img src="../../../assets/img/outlook_email.png">
    </div>
    <div class="content">
      <div class="title f-3 font-weight-bold mb-1">Outlook mail</div>
      <div class="desc f-2 op-75">
        Our Platform can deliver the emails through your outlook mail. Email Deliverity will be upgraded.
      </div>
    </div>
    <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectMail('outlook')">Connect account</button>
    <div class="accounts">
      <ng-container *ngIf="(user.connected_email_type=='outlook' || user.connected_email_type=='microsoft') && user.primary_connected">
        <div class="f-2 font-weight-bold mt-3 mb-2">Authorized account</div>
        <div class="f-1">
          <span class="font-weight-bold mr-2">{{user.connected_email}}</span>
          connected
        </div>
      </ng-container>
    </div>
  </div>

  <h6 class="font-weight-bold">Calendar apps</h6>
  <div class="integration-account">
    <div class="icon">
      <img src="../../../assets/img/google_calendar.png">
    </div>
    <div class="content">
      <div class="title f-3 font-weight-bold mb-1">Google Calendar</div>
      <div class="desc f-2 op-75">
        Connect one or more calendars to your account, so you can schedule and manage your meetings
      </div>
    </div>
    <ng-container *ngIf="googleCalendars.length; else connectGoogleCalendar">
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectCalendar('gmail')">
        Add calendar
      </button>
    </ng-container>
    <ng-template #connectGoogleCalendar>
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectCalendar('gmail')">
        Connect calendar
      </button>
    </ng-template>
    <div class="accounts">
      <ng-container *ngIf="googleCalendars.length">
        <div class="f-2 font-weight-bold mt-3 mb-2">Authorized account</div>
        <ng-container *ngFor="let calendar of googleCalendars">
          <div class="v-center mb-1">
            <div class="f-1 font-weight-bold mr-1">{{calendar.connected_email}}</div>
            <span class="f-1">connected</span>
            <button type="button" class="cal-disconnect btn border-dark w-100 font-weight-bold sm px-1 py-1 ml-auto" (click)="disconnectCalendar(calendar.connected_email, 'gmail')">
              <div class="f-2">Disconnect</div>
            </button>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="integration-account">
    <div class="icon">
      <img src="../../../assets/img/outlook_calendar.png">
    </div>
    <div class="content">
      <div class="title f-3 font-weight-bold mb-1">Outlook Calendar</div>
      <div class="desc f-2 op-75">
        Connect one or more calendars to your account, so you can schedule and manage your meetings
      </div>
    </div>
    <ng-container *ngIf="outlookCalendars.length; else connectOutlookCalendar">
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectCalendar('outlook')">
        Add calendar
      </button>
    </ng-container>
    <ng-template #connectOutlookCalendar>
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectCalendar('outlook')">
        Connect calendar
      </button>
    </ng-template>
    <div class="accounts">
      <ng-container *ngIf="outlookCalendars.length">
        <div class="f-2 font-weight-bold mt-3 mb-2">Authorized account</div>
        <ng-container *ngFor="let calendar of outlookCalendars">
          <div class="v-center mb-1">
            <div class="f-1 font-weight-bold mr-1">{{calendar.connected_email}}</div>
            <span class="f-1">connected</span>
            <button type="button" class="cal-disconnect btn border-dark w-100 font-weight-bold sm px-1 py-1 ml-auto" (click)="disconnectCalendar(calendar.connected_email, 'outlook')">
              <div class="f-2">Disconnect</div>
            </button>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <h6 class="font-weight-bold">Other apps</h6>
  <div class="integration-account zapier">
    <div class="v-center justify-content-between integration-header">
      <p class="f-3 font-weight-bold m-0">Your API Key</p>
      <input class="form-control f-3 w-50 p-1" type="text" [ngModel]="garbage?.access_token" readonly>
      <div class="d-flex justify-content-center header-button">
        <ng-container *ngIf="isCopied; else copyButton">
          <button class="bg-white border-0 my-auto f-3 font-weight-bold key-copy">
            <img src="../../../assets/img/check.png" class="mr-2">Copied
          </button>
        </ng-container>
        <ng-template #copyButton>
          <button class="bg-white border-0 my-auto f-3 font-weight-bold key-copy" (click)="copyKey()">
            <img src="../../../assets/img/pin.png" class="mr-2">Copy Key
          </button>
        </ng-template>
        <button class="bg-white border-0 my-auto f-3 font-weight-bold key-regenerate" (click)="getToken()">
          <img src="../../../assets/img/reload.png" class="mr-2" [class.spinner]="isRegenerated">Regenerate Key
        </button>
      </div>
    </div>
    <div class="integration-body mt-3">
      <div class="icon">
        <img src="../../../assets/img/zapier.svg">
      </div>
      <div class="content">
        <div class="title f-3 font-weight-bold mb-1">Zapier</div>
        <div class="desc f-2 op-75">
          These templates can help you start saving time right away.
        </div>
      </div>
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectZapier()">See Templates</button>
    </div>
  </div>

  <div class="integration-account">
    <div class="icon">
      <img src="../../../assets/img/calendly.svg">
    </div>
    <div class="content">
      <div class="title f-3 font-weight-bold mb-1">Calendly</div>
      <div class="desc f-2 op-75">
        Connect your calendly account so your prospects can schedule a meeting with you.
      </div>
    </div>
    <ng-container *ngIf="garbage?.calendly && garbage.calendly?.email != '' && garbage.calendly?.token != ''; else connectEvent">
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="selectCalendly()">
        <img src="../../../assets/img/warning_yellow.png" *ngIf="calendlyLength > 1 && (!garbage.calendly?.link || !garbage.calendly?.id)">
        <span>Select Event</span>
      </button>
    </ng-container>
    <ng-template #connectEvent>
      <button class="btn bg-white c-blue border-primary f-3 font-weight-bold connect" (click)="connectCalendly()">
        Connect account
      </button>
    </ng-template>
    <div class="accounts">
      <ng-container *ngIf="garbage?.calendly && garbage.calendly?.email != '' && garbage.calendly?.token != ''">
        <div class="f-2 font-weight-bold mt-3 mb-2">Authorized account</div>
        <div class="v-center mb-1">
          <div class="f-1 font-weight-bold mr-1">{{garbage.calendly?.email}}</div>
          <span class="f-1">connected</span>
          <button type="button" class="cal-disconnect btn border-dark w-100 font-weight-bold sm px-1 py-1 ml-auto" (click)="disconnectCalendly()">
            <div class="f-2">Disconnect</div>
          </button>
        </div>
      </ng-container>
    </div>
  </div>
</div>
