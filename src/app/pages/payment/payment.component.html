<link rel="stylesheet" href="payment.component.scss">
<div class="billing-container">
  <ng-container *ngIf="step == 1">
    <ng-container *ngIf="!isSuspended">
      <div class="mb-3">
        <span class="f-3 font-weight-bold">Subscription</span>
      </div>
      <div class="plan-select-wrapper">
        <div class="plan-description">
          <p class="f-3 font-weight-bold">CRM Grow {{getPackageLabel()}}</p>
          <ng-container *ngIf="currentPackage.package == litePackage.package">
            <p class="f-1 c-dark op-64 mb-2">$29 / month</p>
            <div class="features">
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">200 contacts</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">10 material uploads</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">10 min video recording</span>
              </div>
              <div class="my-3 f-5 font-weight-bold">
                Available on all plans:
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Deal Pipeline Tracking</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Custom Labels</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Activity Tracker</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Advanced Filters</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Tag Management</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Mail Templates</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Merge Tokens</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Teams</span>
                <i class="i-icon i-information bgc-dark d-block ml-1" placement="right" ngbTooltip="Lite plan you can be part of a team but not a team leader." ngbButtonLabel></i>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Online Support</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">$79 onboarding plus</span>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="currentPackage.package == proPackage.package">
            <p class="f-1 c-dark op-64 mb-2">$49 / month</p>
            <div class="features">
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">2,000 contacts</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">100 material uploads</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">120 min video recording</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">300 active automations</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">1 calendar connection</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">250 sms</span>
                <i class="i-icon i-information bgc-dark d-block ml-1" placement="right" ngbTooltip="You can purchase more in settings." ngbButtonLabel></i>
              </div>
              <div class="my-3 f-5 font-weight-bold">
                Everything in Lite, plus:
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Lead Capture</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">1 assistant access</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Email 'Click' Tracking</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Group/Mass Email</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Automations</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Teams</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Email Support</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">$49 onboarding plus</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Early Beta Access</span>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="currentPackage.package == elitePackage.package">
            <p class="f-1 c-dark op-64 mb-2">$99 / month</p>
            <div class="features">
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">20,000 contacts</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Unlimited material uploads</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">1,000 min video recording</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">3,000 active automations</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">3 calendar connections</span>
              </div>
              <div class="feature-item v-center mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">750 sms</span>
                <i class="i-icon i-information bgc-dark d-block ml-1" placement="right" ngbTooltip="You can purchase more in settings." ngbButtonLabel></i>
              </div>
              <div class="my-3 f-5 font-weight-bold">
                Everything in Pro, plus:
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">3 assistant access</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Priority & Chat Support</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Onboarding Plus</span>
              </div>
              <div class="feature-item d-flex mb-2">
                <i class="i-icon i-check bgc-blue sm"></i>
                <span class="f-3 ml-2">Roadmap & Mastermind</span>
              </div>
            </div>
          </ng-container>
          <ng-container *ngIf="currentPackage.package == customPackage.package">
            <p class="f-1 c-dark op-64 mb-2">Let's chat</p>
          </ng-container>
        </div>
        <div class="plan-buttons">
          <button class="btn btn-primary font-weight-bold w-100" (click)="changePlan()">Change plan</button>
          <button class="btn btn-white-gray d-block mt-2 border-0 c-dark op-28 w-100" (click)="cancelAccount()">Cancel account</button>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="loadingPayment || loadingInvoice; else showPayment">
      <div class="text-center">
        <div class="loader mt-5"></div>
        <div class="f-8 fw-600">Loading payment informations...</div>
      </div>
    </ng-container>
    <ng-template #showPayment>
      <div class="stripe-wrapper mt-5">
        <div class="f-3 font-weight-bold">Payment details</div>
        <div class="f-1 my-3">Credit or debit card</div>
        <div class="v-center form-group">
          <div class="stripe-card v-center justify-content-between">
            <div class="f-3 font-weight-bold">{{previewCardNumber}}</div>
            <div class="card-img">
              <ng-container [ngSwitch]="card.card_brand">
                <img src="../../../assets/img/card_visa.svg" *ngSwitchCase="'Visa'">
                <img src="../../../assets/img/card_amex.svg" *ngSwitchCase="'amex'">
                <img src="../../../assets/img/card_master.svg" *ngSwitchCase="'mastercard'">
                <img src="../../../assets/img/card_jcb.svg" *ngSwitchCase="'jcb'">
                <img src="../../../assets/img/card_discover.svg" *ngSwitchCase="'discover'">
                <img src="../../../assets/img/card_diners.svg" *ngSwitchCase="'diners'">
              </ng-container>
            </div>
          </div>
          <button class="btn btn-package f-3 ml-2" (click)="editCard()">Change card</button>
        </div>
      </div>
      <div class="mt-5">
        <div class="f-3 font-weight-bold">Invoices</div>
        <table class="table mt-2">
          <thead>
          <tr>
            <th class="number-col border-top-0 pl-0">
              <span class="f-1 c-dark"></span>
            </th>
            <th class="gross border-top-0">
              <span class="f-1 c-dark"></span>
            </th>
            <th class="download-col border-top-0 pr-0">
              <span class="f-1 c-dark"></span>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let invoice of invoices; let index=index;">
            <td class="number-col f-3 font-weight-bold pt-3 pb-0 pl-0">
              Invoice for CRM Grow {{invoice.date | date: 'dd/MM/yyyy'}}
            </td>
            <td class="gross-col f-3 font-weight-bold text-right pr-0  pt-3 pb-0">
              $ {{invoice.amount}}
            </td>
            <td class="download-col f-3 font-weight-bold c-blue pr-0 pt-3 pb-0">
              <a class="download-invoice v-center justify-content-end c-pointer" [href]="invoice.invoice_pdf" *ngIf="invoice.invoice_pdf">
                <i class="i-icon i-download bgc-blue d-block"></i>
                <span class="ml-2">Download invoice</span>
              </a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </ng-template>
  </ng-container>
  <ng-container *ngIf="step == 2">
    <div class="d-flex justify-content-between">
      <h1 class="f-26">Upgrade and get more out of CRM Grow</h1>
      <i class="i-icon i-close d-block bgc-dark op-75 c-pointer" (click)="onBack()"></i>
    </div>
    <ng-container *ngIf="isV1User && !isOverflow">
      <div class="notification-area mt-4">
        <span class="f-6 ml-2">Users that have been with crmgrow since version 1 will be charged at the Lite plan but get the Pro plan.</span>
      </div>
    </ng-container>
    <ng-container *ngIf="loadingCheckDowngrade; else checkedDowngrade">
      <div class="text-center">
        <div class="loader mt-3"></div>
        <div class="f-8 fw-600">Checking downgradable...</div>
      </div>
    </ng-container>
    <ng-template #checkedDowngrade>
      <div class="notification-area mt-4" *ngIf="isOverflow">
        <span class="f-6 font-weight-bold">Ooops</span>
        <span class="f-6 ml-2">I’m an alert letting you know that you need to do something in order to downgrade.</span>
        <div class="f-6 c-red">{{overflowMessage}}</div>
      </div>
    </ng-template>

    <div class="package-wrapper mt-4">
      <div class="package-item"
           [class.highlight]="litePackage.package == selectedPackage.package"
           (click)="clickPackage(litePackage)"
      >
        <img class="popular-img" src="../../../assets/img/popular.svg">
        <div class="package-level">Lite</div>
        <div class="package-description">Best for business and growth leaders newer to their business.</div>
        <button class="btn btn-package my-3 w-100"
                [class.active]="litePackage.package == currentPackage.package"
                [class.highlight]="litePackage.package == selectedPackage.package"
                [class.suspended]="selectedPackage.package == litePackage.package && isOverflow"
                (click)="selectPlan(litePackage.package)"
        >
          {{planButtonLabel(litePackage.package)}}
        </button>
        <div class="package-price mb-4">
          <span class="dollar">$</span>
          <span class="price mx-1">29</span>
          <span class="month mx-1"> / month</span>
        </div>
        <div class="features">
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">200 contacts</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">10 material uploads</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">10 min video recording</span>
          </div>
          <div class="my-3 f-5 font-weight-bold">
            Available on all plans:
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Deal Pipeline Tracking</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Custom Labels</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Activity Tracker</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Advanced Filters</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Tag Management</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Mail Templates</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Merge Tokens</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Teams</span>
            <i class="i-icon i-information bgc-dark d-block ml-1" placement="right" ngbTooltip="Lite plan you can be part of a team but not a team leader." ngbButtonLabel></i>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Online Support</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">$79 onboarding plus</span>
          </div>
        </div>
      </div>
      <div class="package-item active"
       [class.highlight]="proPackage.package == selectedPackage.package"
       (click)="clickPackage(proPackage)"
      >
        <img class="popular-img" src="../../../assets/img/popular.svg">
        <div class="package-level">Pro</div>
        <div class="package-description">Best for business leaders and entrepreneurs with one business and focus.</div>
        <button class="btn btn-package my-3 w-100"
                [class.active]="proPackage.package == currentPackage.package"
                [class.highlight]="proPackage.package == selectedPackage.package"
                [class.suspended]="selectedPackage.package == proPackage.package && isOverflow"
                (click)="selectPlan(proPackage.package)"
        >
          {{planButtonLabel(proPackage.package)}}
        </button>
        <div class="package-price mb-4">
          <span class="dollar">$</span>
          <span class="price mx-1">49</span>
          <span class="month mx-1"> / month</span>
        </div>
        <div class="features">
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">2,000 contacts</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">100 material uploads</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">120 min video recording</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">300 active automations</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">1 calendar connection</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">250 sms</span>
          </div>
          <div class="my-3 f-5 font-weight-bold">
            Everything in Lite, plus:
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Lead Capture</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">1 assistant access</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue sm"></i>
            <span class="f-3 ml-2">Email 'Click' Tracking</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Group/Mass Email</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Automations</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Teams</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Email Support</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">$49 onboarding plus</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Early Beta Access</span>
          </div>
        </div>
      </div>
      <div class="package-item"
         [class.highlight]="elitePackage.package == selectedPackage.package"
         (click)="clickPackage(elitePackage)"
      >
        <img class="popular-img" src="../../../assets/img/popular.svg">
        <div class="package-level">Elite</div>
        <div class="package-description">Best for Entrepreneurs, Influencers, and people looking to become Growth Leaders or those aspiring to be.</div>
        <button class="btn btn-package my-3 w-100"
                [class.active]="elitePackage.package == currentPackage.package"
                [class.highlight]="elitePackage.package == selectedPackage.package"
                [class.suspended]="selectedPackage.package == elitePackage.package && isOverflow"
                (click)="selectPlan(elitePackage.package)"
        >
          {{planButtonLabel(elitePackage.package)}}
        </button>
        <div class="package-price mb-4">
          <span class="dollar">$</span>
          <span class="price mx-1">99</span>
          <span class="month mx-1"> / month</span>
        </div>
        <div class="features">
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">20,000 contacts</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Unlimited material uploads</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">1,000 min video recording</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">3,000 active automations</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">3 calendar connection</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">750 sms</span>
          </div>
          <div class="my-3 f-5 font-weight-bold">
            Everything in Pro
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">3 assistant access</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Priority & Chat Support</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Onboarding Plus</span>
          </div>
          <div class="feature-item d-flex mb-2">
            <i class="i-icon i-check bgc-blue"></i>
            <span class="f-4 ml-2">Roadmap & Mastermind</span>
          </div>
        </div>
      </div>
      <div class="package-item" [class.highlight]="customPackage.package == selectedPackage.package">
        <img class="popular-img" src="../../../assets/img/popular.svg">
        <div class="package-level">Custom</div>
        <div class="package-description">Don't see a match for your specific need?  No worries, just reach out to see if we have a good solution for your needs.</div>
        <a href="mailto:support@crmgrow.com"><div class="btn btn-package my-3 w-100">
          {{planButtonLabel(customPackage.package)}}
        </div></a>
        <div class="package-price mb-4">
          <span class="price mx-1">Let's chat</span>
        </div>
      </div>
    </div>
    <div class="more-feature c-blue my-4 f-4 font-weight-bold" (click)="showAllFeatures()">
      See all features and benifits
    </div>
    <div class="all-features" *ngIf="isShowAll">
      <div class="feature-header">
        <span>Popular features</span>
        <span class="text-center">Lite</span>
        <span class="text-center">Pro</span>
        <span class="text-center">Elite</span>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          Contacts
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <p>200</p>
          </div>
          <div class="plan-item text-center">
            <p>2,000</p>
          </div>
          <div class="plan-item text-center">
            <p>20,000</p>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          Material Uploads
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <p>10</p>
          </div>
          <div class="plan-item text-center">
            <p>100</p>
          </div>
          <div class="plan-item text-center">
            <p>Unlimited</p>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          Video Recordings
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <p>10 min</p>
          </div>
          <div class="plan-item text-center">
            <p>120 min</p>
          </div>
          <div class="plan-item text-center">
            <p>1,000 min</p>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          Active automations
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <p>300</p>
          </div>
          <div class="plan-item text-center">
            <p>3,000</p>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          Calendar
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <p>1</p>
          </div>
          <div class="plan-item text-center">
            <p>3</p>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title">
          SMS
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <p>250</p>
            <i class="i-icon tooltip-icon i-information bgc-dark d-block" placement="right" ngbTooltip="You can purchase more in settings." ngbButtonLabel></i>
          </div>
          <div class="plan-item text-center">
            <p>750</p>
            <i class="i-icon tooltip-icon i-information bgc-dark d-block" placement="right" ngbTooltip="You can purchase more in settings." ngbButtonLabel></i>
          </div>
        </div>
      </div>
      <div class="feature-header">
        Additional features
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Deal Pipeline Tracking
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Custom Labels
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Activity Tracker
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Lead Capture
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Advanced Filters
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Tag Management
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Assistant Access
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
            <div class="f-3">1 seat</div>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
            <div class="f-3">3 seats</div>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Mail Templates
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Merge Tokens
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Email 'Click' Tracking
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Group/Mass Email
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Automations
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Teams
          <i class="i-icon tooltip-icon i-information bgc-dark d-block" placement="right" ngbTooltip="Lite plan you can be part of a team but not a team leader." ngbButtonLabel></i>
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-header">
        Crmgrow Support
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Online Support
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Email Support
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Priority & Chat Support
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Onboarding Plus
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
            $79
          </div>
          <div class="plan-item text-center">
            $49
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Early Beta Access
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
      <div class="feature-wrapper">
        <div class="feature-title additional-feature">
          Roadmap & Mastermind
        </div>
        <div class="plan-wrapper">
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
          </div>
          <div class="plan-item text-center">
            <i class="i-icon i-check bgc-blue d-block"></i>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="step == 3">
    <div class="v-center justify-content-between">
      <div class="f-26 font-weight-bold">Confirm your subscription</div>
      <i class="i-icon i-close d-block bgc-dark op-75 c-pointer" (click)="onBack()"></i>
    </div>
    <div class="confirm-wrapper mt-3">
      <div class="upgrade-plan-wrapper">
        <div class="f-4 op-64 my-4">Enter payment details to subscribe</div>
        <div class="stripe-wrapper">
          <div class="f-3 font-weight-bold">Payment details</div>
          <div class="f-1 my-3">Credit or debit card</div>
          <div class="v-center form-group">
            <div class="stripe-card v-center justify-content-between">
              <div class="f-3 font-weight-bold">•••• •••• •••• {{card.last4}}</div>
              <div class="card-img">
                <ng-container [ngSwitch]="card.card_brand">
                  <img src="../../../assets/img/card_visa.svg" *ngSwitchCase="'Visa'">
                  <img src="../../../assets/img/card_amex.svg" *ngSwitchCase="'amex'">
                  <img src="../../../assets/img/card_master.svg" *ngSwitchCase="'mastercard'">
                  <img src="../../../assets/img/card_jcb.svg" *ngSwitchCase="'jcb'">
                  <img src="../../../assets/img/card_discover.svg" *ngSwitchCase="'discover'">
                  <img src="../../../assets/img/card_diners.svg" *ngSwitchCase="'diners'">
                </ng-container>
              </div>
            </div>
            <button class="btn btn-package f-3 ml-2" (click)="editCard()">Change card</button>
          </div>
          <button class="btn btn-primary f-16 font-weight-bold my-4 w-100"
                 [class.disabled]="selectedPackage.package == currentPackage.package"
                 [class.suspended]="loadingCheckDowngrade"
                 [class.loading]="loadingUpdatePackage"
                 (click)="updatePackage()"
          >
            Upgrade plan
          </button>
          <div class="v-center justify-content-center mb-4">
            <i class="i-icon i-lock bgc-black d-block"></i>
            <span class="mx-2 f-1">Guaranteed safe and secure checkout</span>
          </div>
          <div class="h-line"></div>
          <p class="f-2 op-75 font-italic mt-3 mb-2">
            “Since I implemented Crmgrow 6 months ago, we've had an exponential return”
          </p>
          <div class="v-center">
            <img class="reivew-avatar" src="../../../assets/img/review_avatar.svg" alt="review">
            <span class="f-1 c-dark font-weight-bold ml-2">Larry White</span>
          </div>
        </div>
      </div>
      <div class="selected-package ml-5">
        <div class="package-item" *ngIf="selectedPackage.package == litePackage.package">
          <div class="package-level">Lite</div>
          <div class="package-description confirm">Best for business and growth leaders newer to their business.</div>
          <div class="package-price my-4">
            <span class="dollar">$</span>
            <span class="price mx-1">29</span>
            <span class="month mx-1"> / month</span>
          </div>
          <div class="features">
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">200 contacts</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">10 material uploads</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">10 min video recording</span>
            </div>
            <div class="my-3 f-5 font-weight-bold">
              Available on all plans:
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Deal Pipeline Tracking</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Custom Labels</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Activity Tracker</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Advanced Filters</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Tag Management</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Mail Templates</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Merge Tokens</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Teams</span>
              <i class="i-icon i-information bgc-dark d-block ml-1" placement="right" ngbTooltip="Lite plan you can be part of a team but not a team leader." ngbButtonLabel></i>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Online Support</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">$79 onboarding plus</span>
            </div>
          </div>
        </div>
        <div class="package-item" *ngIf="proPackage.package == selectedPackage.package">
          <div class="package-level">Pro</div>
          <div class="package-description confirm">Best for business leaders and entrepreneurs with one business and focus.</div>
          <div class="package-price my-4">
            <span class="dollar">$</span>
            <span class="price mx-1">49</span>
            <span class="month mx-1"> / month</span>
          </div>
          <div class="features">
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">2,000 contacts</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">100 material uploads</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">120 min video recording</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">300 active automations</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">1 calendar connection</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">250 sms</span>
            </div>
            <div class="my-3 f-5 font-weight-bold">
              Everything in Lite, plus:
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Lead Capture</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">1 assistant access</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Email 'Click' Tracking</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Group/Mass Email</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Automations</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Email Support</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">$49 onboarding plus</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Early Beta Access</span>
            </div>
          </div>
        </div>
        <div class="package-item" *ngIf="elitePackage.package == selectedPackage.package">
          <div class="package-level">Elite</div>
          <div class="package-description confirm">Best for Entrepreneurs, Influencers, and people looking to become Growth Leaders or those aspiring to be.</div>
          <div class="package-price my-4">
            <span class="dollar">$</span>
            <span class="price mx-1">99</span>
            <span class="month mx-1"> / month</span>
          </div>
          <div class="features">
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">20,000 contacts</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Unlimited material uploads</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">1,000 min video recording</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">3,000 active automations</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">3 calendar connection</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">750 sms</span>
            </div>
            <div class="my-3 f-5 font-weight-bold">
              Everything in Pro
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">3 assistant access</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Priority & Chat Support</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Onboarding Plus</span>
            </div>
            <div class="feature-item d-flex mb-2">
              <i class="i-icon i-check bgc-blue"></i>
              <span class="f-4 ml-2">Roadmap & Mastermind</span>
            </div>
          </div>
        </div>
        <div class="package-item" *ngIf="customPackage.package == selectedPackage.package">
          <div class="package-level">Custom</div>
          <div class="package-description confirm">Don't see a match for your specific need?  No worries, just reach out to see if we have a good solution for your needs.</div>
          <div class="package-price my-4">
            <span class="price mx-1">Let's chat</span>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="step == 4">
    <div class="reason-wrapper">
      <div class="d-flex justify-content-between">
        <div class="f-6 font-weight-bold reason-title">Why are you looking to cancel your account?</div>
        <i class="i-icon i-close d-block bgc-dark op-75 c-pointer" (click)="onBackFirst()"></i>
      </div>
      <div class="reason-buttons mt-3">
        <div class="button c-blue font-weight-bold f-3 ml-2 mb-2"
             *ngFor="let button of reasonButtons"
             (click)="selectReason(button)"
        >
          {{button}}
        </div>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="step == 5">
    <div class="reason-wrapper">
      <div class="d-flex justify-content-between">
        <div class="f-6 font-weight-bold reason-title">What is the {{selectedReason}} thing you really wish CRM Grow did better?</div>
        <i class="i-icon i-close d-block bgc-dark op-75 c-pointer" (click)="onBack()"></i>
      </div>
      <div class="form-group mt-3">
        <textarea
          class="f-3 p-2 form-control"
          name="feedback"
          #feedback="ngModel"
          [(ngModel)]="reasonFeedback"
        >
        </textarea>
      </div>
      <div class="v-center justify-content-end">
        <button class="btn btn-white f-6 font-weight-bold c-blue" (click)="onBack()">Cancel</button>
        <button class="btn btn-primary f-6 font-weight-bold ml-2"
            [class.loading]="loadingCancelAccount"
            (click)="sendFeedback()"
        >
          Send feedback
        </button>
      </div>
    </div>
  </ng-container>
</div>


