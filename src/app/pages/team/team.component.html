<div class="page-content">
  <div class="p-md-3 p-2">
    <ng-container *ngIf="loading">
      <div class="loading-screen">
        <ngx-spinner name="sp5" bdColor="rgba(50,50,50,0)" size="medium" color="#888" type="square-jelly-box"
                     [fullScreen]="false">
          <p class="text-dark loading-text mt-7" style="font-weight: 400;">Loading team details...</p>
        </ngx-spinner>
      </div>
    </ng-container>
    <ng-container *ngIf="loadError">
      <div class="error-result">
        <img [src]="'../../../assets/img/error.png'" />
        <p>
          Something went go wrong. If your team information is correct, please reach our support team.
        </p>
      </div>
    </ng-container>
    <ng-container *ngIf="!loading && !loadError && team">
      <div class="teams-label f-8 font-weight-bold">
        My Teams / {{team.name}}
      </div>
      <div class="team-info-container form-group v-center justify-content-between mt-5">
        <div class="col-xl-5 col-lg-12 col-md-12 col-sm-12 col-12 v-center">
          <div class="owner">
            <label>Owner</label>
            <div class="v-center value">
              <div class="owners v-center mr-3">
                <ng-container *ngIf="team.owner">
                  <ng-container *ngIf="team.owner.length < 5; else overTemplate">
                    <div class="owner" *ngFor="let own of team.owner">
                      <ng-container *ngIf="own.picture_profile; else ownNamePlaceholder">
                        <img [src]="own.picture_profile" class="avatar" [class.shadow-avatar]="team.owner.length > 1"/>
                      </ng-container>
                      <ng-template #ownNamePlaceholder>
                        <div class="name-avatar" [class.shadow-avatar]="team.owner.length > 1">{{own.user_name[0]}}</div>
                      </ng-template>
                    </div>
                  </ng-container>
                  <ng-template #overTemplate>
                    <div class="owner" *ngFor="let mIndex of [0,1,2,3]">
                      <ng-container *ngIf="team.owner[mIndex].picture_profile; else ownNamePlaceholder">
                        <img [src]="team.owner[mIndex].picture_profile" class="avatar shadow-avatar" />
                      </ng-container>
                      <ng-template #ownNamePlaceholder>
                        <div class="name-avatar shadow-avatar">{{team.owner[mIndex].username[0]}}</div>
                      </ng-template>
                    </div>
                    <div class="owner remain-number">
                      <div class="name-avatar shadow-avatar">+{{team.owner.length - 4}}</div>
                    </div>
                  </ng-template>
                </ng-container>
              </div>
              <div class="owner-names">
                <ng-container *ngIf="team.owner">
                  <ng-container *ngIf="team.owner.length < 2; else overNameTemplate">
                    <div class="owner-main-name font-weight-bold">{{team.owner[0].user_name}}</div>
                  </ng-container>
                  <ng-template #overNameTemplate>
                    <div class="owner-main-name font-weight-bold">{{team.owner[0].user_name}}</div>
                    <div class="owner-remain-count f-2">(+ {{team.owner.length - 1}} Owners)</div>
                  </ng-template>
                </ng-container>
              </div>
            </div>
          </div>
          <div class="members ml-5">
            <label>Members</label>
            <div class="value f-37 font-weight-bold">{{team.owner.length + team.members.length}}</div>
          </div>
          <div class="ml-5">
            <label>Your Status</label>
            <div class="value v-center">
              <div class="status font-weight-bold f-2 c-white" [class] = "status(team)">{{status(team)}}</div>
            </div>
          </div>
        </div>
        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-xl-0 mt-lg-3 mt-md-3 mt-sm-3 mt-3">
          <div class="tabs">
            <app-slide-tab [tabs]="tabs" [selected]="selectedTab" (onChange)="changeTab($event)">
            </app-slide-tab>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6 col-md-6 col-sm-12 col-12 mt-xl-0 mt-lg-3 mt-md-3 mt-sm-3 mt-3">
          <div class="button-group v-center">
            <button class="v-center btn btn-blue f-4 font-weight-bold text-white ml-2">
              <i class="bgc-white i-icon i-plus mr-2"></i>
              Invite member
            </button>
            <button class="v-center btn btn-white-blue f-4 font-weight-bold ml-2" (click)="editTeam()">
              <i class="bgc-blue i-icon i-edit mr-2"></i>
              Edit team
            </button>
          </div>
        </div>
      </div>
      <div class="members-table-container mt-5" *ngIf="selectedTab.id === 'members'">
        <table class="table members-table">
          <thead>
          <tr>
            <th class="check-cell border-top-0">
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="selectAllMembers" (change)="selectAllPage()" [checked]="isSelectedPage()">
                <label class="custom-control-label" for="selectAllMembers"></label>
              </div>
            </th>
            <th class="name-cell border-top-0">Members</th>
            <th class="status-cell border-top-0">Status</th>
            <th class="added-cell border-top-0">Added</th>
            <th class="phone-cell border-top-0">Phone No</th>
            <th class="action-cell border-top-0"></th>
          </tr>
          </thead>
          <tbody>
          <ng-container *ngIf="team.members.length + team.owner.length + team.invites.length">
            <tr *ngFor="let own of team.owner">
              <td class="check-cell">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="own-{{own._id}}" (change)="selectedMembers.toggle(own._id)" [checked]="selectedMembers.isSelected(own._id)">
                  <label class="custom-control-label" for="own-{{own._id}}"></label>
                </div>
              </td>
              <td class="name-cell">
                <div class="v-center">
                  <ng-container *ngIf="own.picture_profile; else ownNamePlaceholder">
                    <img [src]="own.picture_profile" class="avatar mr-3" />
                  </ng-container>
                  <ng-template #ownNamePlaceholder>
                    <div class="name-avatar mr-3">{{own.user_name[0]}}</div>
                  </ng-template>
                  <div class="f-3 font-weight-bold">{{own.user_name}}</div>
                </div>
              </td>
              <td class="status-cell">
                <div class="status">
                  <div class="Owner c-white text-center f-2">Owner</div>
                </div>
              </td>
              <td class="added-cell f-3">
                {{own.created_at | date: 'dd.MM.yyyy'}}
              </td>
              <td class="phone-cell f-3">
                {{own.cell_phone}}
              </td>
              <td class="action-cell">
              </td>
            </tr>
            <tr *ngFor="let member of team.members">
              <td class="check-cell">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="member-{{member._id}}" (change)="selectedMembers.toggle(member._id)" [checked]="selectedMembers.isSelected(member._id)">
                  <label class="custom-control-label" for="member-{{member._id}}"></label>
                </div>
              </td>
              <td class="name-cell">
                <div class="v-center">
                  <ng-container *ngIf="member.picture_profile; else memberNamePlaceholder">
                    <img [src]="member.picture_profile" class="avatar mr-3" />
                  </ng-container>
                  <ng-template #memberNamePlaceholder>
                    <div class="name-avatar mr-3">{{member.user_name[0]}}</div>
                  </ng-template>
                  <div class="font-weight-bold">{{member.user_name}}</div>
                </div>
              </td>
              <td class="status-cell">
                <div class="label-cell status">
                  <select (change)="toggleMember(member)"
                          class="c-white f-2"
                          [class]="team.editors.indexOf(member._id) === -1 ? 'Viewer' : 'Editor'">
                    <option [value]="'Viewer'" class="Viewer c-white f-2" [selected]="team.editors.indexOf(member._id) === -1">
                      Viewer
                    </option>
                    <option [value]="'Editor'" class="Editor c-white f-2" [selected]="team.editors.indexOf(member._id) !== -1">
                      Editor
                    </option>
                  </select>
                </div>
              </td>
              <td class="added-cell">
                {{member.created_at | date: 'dd.MM.yyyy'}}
              </td>
              <td class="phone-cell">
                {{member.cell_phone}}
              </td>
              <td class="action-cell">
                <button class="v-center btn bgc-white c-dark f-4 ml-2 opacity-3" (click)="removeMember(member)">
                  <i class="bgc-dark i-icon i-trash mr-2"></i>
                  <span class="button-label">Remove</span>
                </button>
              </td>
            </tr>
            <tr *ngFor="let invite of team.invites">
              <td class="check-cell">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="invite-{{invite._id}}" (change)="selectedMembers.toggle(invite._id)" [checked]="selectedMembers.isSelected(invite._id)">
                  <label class="custom-control-label" for="invite-{{invite._id}}"></label>
                </div>
              </td>
              <td class="name-cell">
                <div class="v-center">
                  <ng-container *ngIf="invite.picture_profile; else inviteNamePlaceholder">
                    <img [src]="invite.picture_profile" class="avatar mr-3" />
                  </ng-container>
                  <ng-template #inviteNamePlaceholder>
                    <div class="name-avatar mr-3">{{invite.user_name[0]}}</div>
                  </ng-template>
                  <div class="font-weight-bold">{{invite.user_name}}</div>
                </div>
              </td>
              <td class="status-cell">
                <div class="v-center">
                  <div class="status mr-3">
                    <div class="Invite c-white text-center f-2">Invite sent</div>
                  </div>
                  <div class="btn-white-blue remind f-2">Remind</div>
                </div>
              </td>
              <td class="added-cell">
                {{invite.created_at | date: 'dd.MM.yyyy'}}
              </td>
              <td class="phone-cell">
                {{invite.cell_phone}}
              </td>
              <td class="action-cell">
                <button class="v-center btn bgc-white c-dark f-4 opacity-3 ml-2" (click)="cancelInvite(invite)">
                  <i class="bgc-dark i-icon i-trash mr-2"></i>
                  <span class="button-label">Cancel invitation</span>
                </button>
              </td>
            </tr>
          </ng-container>
        </table>
      </div>
      <div class="share-table-container mt-5" *ngIf="selectedTab.id === 'shared'">
        <div class="material-tabs">
          <mat-tab-group animationDuration="0ms">
            <mat-tab label="videos">
              <ng-template mat-tab-label>
                Videos
              </ng-template>
              <div class="video-list-wrapper tab-panel">
                <ng-container *ngIf="team.videos.length; else emptyVideoListTemplate">
                  <ng-container *ngIf="role=='editor' || role == 'owner'">
                    <div class="d-flex my-3">
                      <button class="btn btn-sm btn-primary f-2 ml-auto" (click)="createTeamVideo()">ADD
                        VIDEO</button>
                    </div>
                    <table class="table material-share-table">
                      <thead>
                        <th class="check-cell">
                          <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="selectAllVideos" (change)="selectAllVideos()" [checked]="isSelectedVideos()">
                            <label class="custom-control-label" for="selectAllVideos"></label>
                          </div>
                        </th>
                        <th class="material-name">Name</th>
                        <th class="material-view">Views</th>
                        <th class="material-added">Added</th>
                        <th class="material-actions"></th>
                      </thead>
                      <tbody>
                        <ng-container *ngIf="team.videos.length">
                          <tr *ngFor="let video of team.videos">
                            <td class="check-cell">
                              <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="video-{{video._id}}" (change)="selectedVideos.toggle(video._id)" [checked]="selectedVideos.isSelected(video._id)">
                                <label class="custom-control-label" for="video-{{video._id}}"></label>
                              </div>
                            </td>
                            <td class="material-name">
                              <div class="v-center">
                                <div class="thumbnail">
                                  <a href="{{ siteUrl }}/video?video={{ video._id }}&user={{userId}}&team={{teamId}}" target="_blank">
                                    <img [src]="video.preview || video.thumbnail" />
                                  </a>
                                </div>
                                <div class="info ml-2">
                                  <div class="title f-4 font-weight-bold">
                                    {{video.title}}
                                  </div>
                                  <div class="description f-2 opacity-6 c-dark">
                                    {{video.description | stripe | slice:0:80}}
                                  </div>
                                </div>
                              </div>
                            </td>
                            <td class="material-view f-4 text-right">0</td>
                            <td class="material-added f-4">{{video.created_at | date: 'MMM dd, yyyy'}}</td>
                            <td class="material-actions">
                              <div class="v-center">
                                <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="sendMaterials('video', 'text', video)">
                                  <i class="bgc-dark i-icon i-sent mr-2"></i>
                                  <span class="button-label">Send</span>
                                </button>
                                <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="copyLink(video, 'video')">
                                  <i class="bgc-dark i-icon i-task mr-2"></i>
                                  <span class="button-label">Copy link</span>
                                </button>
                                <div ngbDropdown class="material-action">
                                  <a ngbDropdownToggle class="v-center btn bgc-white c-dark f-4 mr-2">
                                    <i class="bgc-dark i-icon i-share mr-2"></i>
                                    <span class="button-label">Share</span>
                                  </a>
                                  <div ngbDropdownMenu>
                                    <share-buttons [theme]="'circle-dark'" [include]="['facebook', 'twitter', 'linkedin']"
                                                   [size]="-2" [show]="3" url="{{ siteUrl }}/video?video={{ video._id }}&user={{userId}}"
                                                   [autoSetMeta]="false"></share-buttons>
                                  </div>
                                </div>
                                <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="editMaterial('video', video)">
                                  <i class="bgc-dark i-icon i-template mr-2"></i>
                                  <span class="button-label">Edit template</span>
                                </button>
                              </div>
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </ng-container>
                </ng-container>
                <ng-template #emptyVideoListTemplate>
                  <div class="empty-materials mt-3">
                    <img src="../../../assets/img/file_empty.png" />
                    <ng-container *ngIf="role === 'owner' || role === 'editor'; else onlyMemberVideoEmpty">
                      <p class="desc">There is no team videos yet. Please create video to share with your team.
                      </p>
                      <div class="action">
                        <button class="btn btn-primary btn-sm text-white" (click)="createTeamVideo()">CREATE VIDEO</button>
                      </div>
                    </ng-container>
                    <ng-template #onlyMemberVideoEmpty>
                      <p class="desc">There is no team videos yet. Please wait for a while.</p>
                    </ng-template>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
            <mat-tab label="pdfs">
              <ng-template mat-tab-label>
                Pdfs
              </ng-template>
              <div class="pdf-list-wrapper tab-panel">
                <ng-container *ngIf="team.pdfs.length; else emptyPdfListTemplate">
                  <ng-container *ngIf="role=='editor' || role == 'owner'">
                    <div class="d-flex my-3">
                      <button class="btn btn-sm btn-primary f-2 ml-auto" (click)="createTeamPdf()">ADD
                        PDF</button>
                    </div>
                    <table class="table material-share-table">
                      <thead>
                      <th class="check-cell">
                        <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="selectAllPdfs" (change)="selectAllPdfs()" [checked]="isSelectedPdfs()">
                          <label class="custom-control-label" for="selectAllPdfs"></label>
                        </div>
                      </th>
                      <th class="material-name">Name</th>
                      <th class="material-view">Views</th>
                      <th class="material-added">Added</th>
                      <th class="material-actions"></th>
                      </thead>
                      <tbody>
                      <ng-container *ngIf="team.pdfs.length">
                        <tr *ngFor="let pdf of team.pdfs">
                          <td class="check-cell">
                            <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input" id="pdf-{{pdf._id}}" (change)="selectedPdfs.toggle(pdf._id)" [checked]="selectedPdfs.isSelected(pdf._id)">
                              <label class="custom-control-label" for="pdf-{{pdf._id}}"></label>
                            </div>
                          </td>
                          <td class="material-name">
                            <div class="v-center">
                              <div class="thumbnail mr-3">
                                <a href="{{ siteUrl }}/pdf?pdf={{ pdf._id }}&user={{userId}}&team={{teamId}}" target="_blank">
                                  <img [src]="pdf.preview || pdf.thumbnail" />
                                </a>
                              </div>
                              <div class="info">
                                <div class="title f-4 font-weight-bold">
                                  {{pdf.title}}
                                </div>
                                <div class="description f-2 opacity-6 c-dark">
                                  {{pdf.description | stripe | slice:0:80}}
                                </div>
                              </div>
                            </div>
                          </td>
                          <td class="material-view f-4 text-right">0</td>
                          <td class="material-added f-4">{{pdf.created_at | date: 'MMM dd, yyyy'}}</td>
                          <td class="material-actions">
                            <div class="v-center">
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="sendMaterials('pdf', 'text', pdf)">
                                <i class="bgc-dark i-icon i-sent mr-2"></i>
                                <span class="button-label">Send</span>
                              </button>
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="copyLink(pdf, 'pdf')">
                                <i class="bgc-dark i-icon i-task mr-2"></i>
                                <span class="button-label">Copy link</span>
                              </button>
                              <div ngbDropdown class="material-action">
                                <a ngbDropdownToggle class="v-center btn bgc-white c-dark f-4 mr-2">
                                  <i class="bgc-dark i-icon i-share mr-2"></i>
                                  <span class="button-label">Share</span>
                                </a>
                                <div ngbDropdownMenu>
                                  <share-buttons [theme]="'circle-dark'" [include]="['facebook', 'twitter', 'linkedin']"
                                                 [size]="-2" [show]="3" url="{{ siteUrl }}/video?video={{ pdf._id }}&user={{userId}}"
                                                 [autoSetMeta]="false"></share-buttons>
                                </div>
                              </div>
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="editMaterial('pdf', pdf)">
                                <i class="bgc-dark i-icon i-template mr-2"></i>
                                <span class="button-label">Edit template</span>
                              </button>
                            </div>
                          </td>
                        </tr>
                      </ng-container>
                      </tbody>
                    </table>
                  </ng-container>
                </ng-container>
                <ng-template #emptyPdfListTemplate>
                  <div class="empty-materials mt-3">
                    <img src="../../../assets/img/file_empty.png" />
                    <ng-container *ngIf="role === 'owner' || role === 'editor'; else onlyMemberPdfEmpty">
                      <p class="desc">There is no team pdfs yet. Please create pdf to share with your team.
                      </p>
                      <div class="action">
                        <button class="btn btn-primary btn-sm text-white" (click)="createTeamPdf()">CREATE PDF</button>
                      </div>
                    </ng-container>
                    <ng-template #onlyMemberPdfEmpty>
                      <p class="desc">There is no team pdfs yet. Please wait for a while.</p>
                    </ng-template>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
            <mat-tab label="images">
              <ng-template mat-tab-label>
                Images
              </ng-template>
              <div class="image-list-wrapper tab-panel">
                <ng-container *ngIf="team.images.length; else emptyImageListTemplate">
                  <ng-container *ngIf="role=='editor' || role == 'owner'">
                    <div class="d-flex my-3">
                      <button class="btn btn-sm btn-primary f-2 ml-auto" (click)="createTeamImage()">ADD
                        IMAGE</button>
                    </div>
                    <table class="table material-share-table">
                      <thead>
                      <th class="check-cell">
                        <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="selectAllImages" (change)="selectAllImages()" [checked]="isSelectedImages()">
                          <label class="custom-control-label" for="selectAllImages"></label>
                        </div>
                      </th>
                      <th class="material-name">Name</th>
                      <th class="material-view">Views</th>
                      <th class="material-added">Added</th>
                      <th class="material-actions"></th>
                      </thead>
                      <tbody>
                      <ng-container *ngIf="team.images.length">
                        <tr *ngFor="let image of team.images">
                          <td class="check-cell">
                            <div class="custom-control custom-checkbox">
                              <input type="checkbox" class="custom-control-input" id="image-{{image._id}}" (change)="selectedImages.toggle(image._id)" [checked]="selectedImages.isSelected(image._id)">
                              <label class="custom-control-label" for="image-{{image._id}}"></label>
                            </div>
                          </td>
                          <td class="material-name">
                            <div class="v-center">
                              <div class="thumbnail mr-3">
                                <a href="{{ siteUrl }}/image?image={{ image._id }}&user={{userId}}&team={{teamId}}" target="_blank">
                                  <img [src]="image.preview || image.thumbnail" />
                                </a>
                              </div>
                              <div class="info">
                                <div class="title f-4 font-weight-bold">
                                  {{image.title}}
                                </div>
                                <div class="description f-2 opacity-6 c-dark">
                                  {{image.description | stripe | slice:0:80}}
                                </div>
                              </div>
                            </div>
                          </td>
                          <td class="material-view f-4 text-right">0</td>
                          <td class="material-added f-4">{{image.created_at | date: 'MMM dd, yyyy'}}</td>
                          <td class="material-actions">
                            <div class="v-center">
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="sendMaterials('image', 'text', image)">
                                <i class="bgc-dark i-icon i-sent mr-2"></i>
                                <span class="button-label">Send</span>
                              </button>
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="copyLink(image, 'image')">
                                <i class="bgc-dark i-icon i-task mr-2"></i>
                                <span class="button-label">Copy link</span>
                              </button>
                              <div ngbDropdown class="material-action">
                                <a ngbDropdownToggle class="v-center btn bgc-white c-dark f-4 mr-2">
                                  <i class="bgc-dark i-icon i-share mr-2"></i>
                                  <span class="button-label">Share</span>
                                </a>
                                <div ngbDropdownMenu>
                                  <share-buttons [theme]="'circle-dark'" [include]="['facebook', 'twitter', 'linkedin']"
                                                 [size]="-2" [show]="3" url="{{ siteUrl }}/video?video={{ image._id }}&user={{userId}}"
                                                 [autoSetMeta]="false"></share-buttons>
                                </div>
                              </div>
                              <button class="v-center btn bgc-white c-dark f-4 mr-2" (click)="editMaterial('image', image)">
                                <i class="bgc-dark i-icon i-template mr-2"></i>
                                <span class="button-label">Edit template</span>
                              </button>
                            </div>
                          </td>
                        </tr>
                      </ng-container>
                      </tbody>
                    </table>
                  </ng-container>
                </ng-container>
                <ng-template #emptyImageListTemplate>
                  <div class="empty-materials mt-3">
                    <img src="../../../assets/img/file_empty.png" />
                    <ng-container *ngIf="role === 'owner' || role === 'editor'; else onlyMemberImageEmpty">
                      <p class="desc">There is no team images yet. Please create image to share with your team.
                      </p>
                      <div class="action">
                        <button class="btn btn-primary btn-sm text-white" (click)="createTeamImage()">CREATE IMAGE</button>
                      </div>
                    </ng-container>
                    <ng-template #onlyMemberImageEmpty>
                      <p class="desc">There is no team images yet. Please wait for a while.</p>
                    </ng-template>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
            <mat-tab label="Templates">
              <ng-template mat-tab-label>
                Templates
              </ng-template>
              <div class="template-list-wrapper tab-panel">
                <ng-container *ngIf="team.email_templates.length; else emptyTemplateListTemplate">
                  <ng-container *ngIf="role=='editor' || role == 'owner'">
                    <div class="d-flex my-3">
                      <button class="btn btn-sm btn-primary f-2 ml-auto" (click)="createEmailTemplate()">ADD
                        TEMPLATE</button>
                    </div>
                    <table class="table material-share-table template-table">
                      <thead>
                      <th class="material-name">Title</th>
                      <th class="material-template">Template</th>
                      <th class="material-type">Type</th>
                      </thead>
                      <tbody>
                      <ng-container *ngIf="team.email_templates.length">
                        <tr *ngFor="let template of team.email_templates">
                          <td class="material-name">
                            <div class="title f-5 c-blue font-weight-bold">
                              {{template.title}}
                            </div>
                          </td>
                          <td class="material-template">
                            <div class="template-content">
                              <div class="f-4 c-black font-weight-bold">
                                {{template.subject}}
                              </div>
                              <div class="f-2 c-dark opacity-6">
                                {{template.content | stripe | slice: 0: 120}}
                              </div>
                            </div>
                          </td>
                          <td class="material-type">
                            <ng-container *ngIf="template.type === 'text'">
                              <div class="v-center f-4">
                                <i class="bgc-dark i-icon i-phone mr-2"></i>
                                <span class="button-label">Text</span>
                              </div>
                            </ng-container>
                            <ng-container *ngIf="template.type === 'email'">
                              <div class="v-center f-4">
                                <i class="bgc-dark i-icon i-message mr-2"></i>
                                <span class="button-label">Email</span>
                              </div>
                            </ng-container>
                          </td>
                        </tr>
                      </ng-container>
                      </tbody>
                    </table>
                  </ng-container>
                </ng-container>
                <ng-template #emptyTemplateListTemplate>
                  <div class="empty-materials mt-3">
                    <img src="../../../assets/img/file_empty.png" />
                    <ng-container *ngIf="role === 'owner' || role === 'editor'; else onlyMemberTemplateEmpty">
                      <p class="desc">There is no team templates yet. Please create template to share with your team.
                      </p>
                      <div class="action">
                        <button class="btn btn-primary btn-sm text-white" (click)="createEmailTemplate()">CREATE TEMPLATE</button>
                      </div>
                    </ng-container>
                    <ng-template #onlyMemberTemplateEmpty>
                      <p class="desc">There is no team templates yet. Please wait for a while.</p>
                    </ng-template>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
            <mat-tab label="Automation">
              <ng-template mat-tab-label>
                Automations
              </ng-template>
              <div class="automation-list-wrapper tab-panel">
                <ng-container *ngIf="team.automations.length; else emptyAutomationListTemplate">
                  <ng-container *ngIf="role=='editor' || role == 'owner'">
                    <div class="d-flex my-3">
                      <button class="btn btn-sm btn-primary f-2 ml-auto" (click)="createAutomation()">ADD
                        AUTOMATION</button>
                    </div>
                    <table class="table material-share-table automation-table">
                      <thead>
                      <th class="material-name">Title</th>
                      <th class="material-actions-count">Actions</th>
                      <th class="material-contacts">Contacts</th>
                      <th class="material-created">Created</th>
                      <th class="material-assign"></th>
                      </thead>
                      <tbody>
                      <ng-container *ngIf="team.automations.length">
                        <tr *ngFor="let automation of team.automations">
                          <td class="material-name">
                            <div class="title f-5 c-blue font-weight-bold">
                              {{automation.title}}
                            </div>
                          </td>
                          <td class="material-actions-count f-6 font-weight-bold text-right">
                            {{automation.automations.length}}
                          </td>
                          <td class="material-contacts text-right">
                            <span class="f-2 opacity-6 text-uppercase mr-2">Show</span>
                            <span class="f-6 c-blue font-weight-bold">3</span>
                          </td>
                          <td class="material-created text-right">
                            {{automation.created_at | date: 'MMM dd, yyyy'}}
                          </td>
                          <td class="material-assign">
                            <div class="v-center justify-content-end">
                              <button class="btn btn-white f-2 c-blue font-weight-bold mr-2" (click)="assignContact(automation)">
                                Assign to contact
                              </button>
                              <button class="btn btn-white v-center f-2">
                                <i class="bgc-dark i-icon i-small-icon i-triangle-up"></i>
                              </button>
                            </div>
                          </td>
                        </tr>
                      </ng-container>
                      </tbody>
                    </table>
                  </ng-container>
                </ng-container>
                <ng-template #emptyAutomationListTemplate>
                  <div class="empty-materials mt-3">
                    <img src="../../../assets/img/file_empty.png" />
                    <ng-container *ngIf="role === 'owner' || role === 'editor'; else onlyMemberAutomationEmpty">
                      <p class="desc">There is no team automations yet. Please create automation to share with your team.
                      </p>
                      <div class="action">
                        <button class="btn btn-primary btn-sm text-white" (click)="createAutomation()">CREATE AUTOMATION</button>
                      </div>
                    </ng-container>
                    <ng-template #onlyMemberAutomationEmpty>
                      <p class="desc">There is no team automations yet. Please wait for a while.</p>
                    </ng-template>
                  </div>
                </ng-template>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </ng-container>
  </div>
</div>
